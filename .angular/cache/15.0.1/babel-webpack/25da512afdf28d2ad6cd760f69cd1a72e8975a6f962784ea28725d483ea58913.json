{"ast":null,"code":"import { Monster } from '@shared/model/monster.model';\nimport { doesExist } from '@shared/utilities/common-util/common.util';\nimport { buildFormFromObject } from '@shared/utilities/form-util/form.util';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../../../shared/components/dice-roller-form/dice-roller-form.component\";\nimport * as i3 from \"../../../../shared/components/save-as-form/save-as-form.component\";\nimport * as i4 from \"../../../../shared/components/weapons-form/weapons-form.component\";\nimport * as i5 from \"@angular/forms\";\nfunction EditEncounterFormComponent_ng_container_25_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementContainerStart(1, 7);\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵelement(3, \"input\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\")(5, \"label\", 9);\n    i0.ɵɵtext(6, \"In Dungeon:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"greg-dice-roller-form\", 10)(8, \"br\");\n    i0.ɵɵelementStart(9, \"label\", 11);\n    i0.ɵɵtext(10, \"In Wilderness:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"greg-dice-roller-form\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵelement(13, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵelement(15, \"input\", 14);\n    i0.ɵɵtext(16, \" + \");\n    i0.ɵɵelement(17, \"input\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵelement(19, \"greg-weapons-form\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵelement(21, \"input\", 17);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\");\n    i0.ɵɵelement(24, \"greg-save-as-form\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵelement(26, \"input\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"td\")(28, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function EditEncounterFormComponent_ng_container_25_tr_1_Template_a_click_28_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const i_r5 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.addMonster(i_r5));\n    });\n    i0.ɵɵtext(29, \"+\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \" / \");\n    i0.ɵɵelementStart(31, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function EditEncounterFormComponent_ng_container_25_tr_1_Template_a_click_31_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const i_r5 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.removeMonster(i_r5));\n    });\n    i0.ɵɵtext(32, \"-\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const monster_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", i_r5);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"parentForm\", monster_r4.get(\"noDungeon\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"parentForm\", monster_r4.get(\"noWilderness\"));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"parentForm\", monster_r4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", monster_r4.value.movementTactical, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"parentForm\", monster_r4);\n  }\n}\nfunction EditEncounterFormComponent_ng_container_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, EditEncounterFormComponent_ng_container_25_tr_1_Template, 33, 6, \"tr\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.monstersArray.controls);\n  }\n}\nfunction EditEncounterFormComponent_ng_template_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1, \"\\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"td\", 20)(3, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function EditEncounterFormComponent_ng_template_26_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.addMonster());\n    });\n    i0.ɵɵtext(4, \"Add Encounter Creature\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class EditEncounterFormComponent {\n  constructor() {}\n  get monstersArray() {\n    return this.encounterForm.get('monsters');\n  }\n  ngOnInit() {}\n  addMonster(idx) {\n    const newControl = buildFormFromObject(new Monster());\n    if (doesExist(idx)) {\n      this.monstersArray.insert(idx + 1, newControl);\n    } else {\n      this.monstersArray.push(newControl);\n    }\n  }\n  removeMonster(idx) {\n    this.monstersArray.removeAt(idx);\n  }\n}\nEditEncounterFormComponent.ɵfac = function EditEncounterFormComponent_Factory(t) {\n  return new (t || EditEncounterFormComponent)();\n};\nEditEncounterFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditEncounterFormComponent,\n  selectors: [[\"greg-edit-encounter-form\"]],\n  inputs: {\n    encounterForm: \"encounterForm\"\n  },\n  decls: 28,\n  vars: 3,\n  consts: [[3, \"formGroup\"], [\"for\", \"name\"], [\"formControlName\", \"name\", \"name\", \"name\", \"type\", \"text\"], [\"formArrayName\", \"monsters\", 1, \"monster-array\"], [4, \"ngIf\", \"ngIfElse\"], [\"noMonsters\", \"\"], [4, \"ngFor\", \"ngForOf\"], [3, \"formGroupName\"], [\"formControlName\", \"name\", \"type\", \"text\"], [\"for\", \"noDungeon\"], [\"name\", \"noDungeon\", 3, \"parentForm\"], [\"for\", \"noWilderness\"], [\"name\", \"noWilderness\", 3, \"parentForm\"], [\"formControlName\", \"armorClass\", \"type\", \"number\"], [\"formControlName\", \"hitDice\", \"type\", \"number\"], [\"formControlName\", \"hitPointModifier\", \"type\", \"number\"], [3, \"parentForm\"], [\"formControlName\", \"movementExploration\", \"type\", \"number\"], [\"formControlName\", \"morale\", \"type\", \"number\"], [3, \"click\"], [\"colspan\", \"6\"]],\n  template: function EditEncounterFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0)(1, \"label\", 1);\n      i0.ɵɵtext(2, \"Encounter Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"input\", 2);\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"table\")(6, \"tr\")(7, \"th\");\n      i0.ɵɵtext(8, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"No. Appearing\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"AC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"HD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Attacks & Damage\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Move\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"Save As\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\");\n      i0.ɵɵtext(22, \"Morale\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"th\");\n      i0.ɵɵtext(24, \"\\u00A0\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(25, EditEncounterFormComponent_ng_container_25_Template, 2, 1, \"ng-container\", 4);\n      i0.ɵɵtemplate(26, EditEncounterFormComponent_ng_template_26_Template, 5, 0, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(27);\n      i0.ɵɵproperty(\"formGroup\", ctx.encounterForm);\n      i0.ɵɵadvance(25);\n      i0.ɵɵproperty(\"ngIf\", ctx.monstersArray.length > 0)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.DiceRollerFormComponent, i3.SaveAsFormComponent, i4.WeaponsFormComponent, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i5.FormGroupName, i5.FormArrayName],\n  styles: [\"input[type=number][_ngcontent-%COMP%] {\\n  width: 2em;\\n}\\n\\ninput[type=text][_ngcontent-%COMP%] {\\n  width: 8em;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\ntable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  padding: 0em 0.25em;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  padding-right: 0.5em;\\n}\\n/*# sourceURL=webpack://./src/assets/styles/_variables.scss */\\n/*# sourceURL=webpack://./src/app/encounter/create-encounter-table/components/edit-encounter-form/edit-encounter-form.component.scss */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hc3NldHMvc3R5bGVzL192YXJpYWJsZXMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy9hcHAvZW5jb3VudGVyL2NyZWF0ZS1lbmNvdW50ZXItdGFibGUvY29tcG9uZW50cy9lZGl0LWVuY291bnRlci1mb3JtL2VkaXQtZW5jb3VudGVyLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBYUU7RUFDRSxVQUY0QjtBQ1ZoQzs7QURpQkU7RUFDRSxVQ2xCcUI7QUFJekI7O0FEbUJFO0VBQ0UsV0FBQTtBQ2hCSjtBRGtCSTs7RUFFRSxtQkFBQTtBQ2hCTjs7QUFUQTtFQUNFLG9CQUFBO0FBWUYiLCJzb3VyY2VzQ29udGVudCI6W251bGwsImlucHV0W3R5cGU9bnVtYmVyXSB7XG4gIHdpZHRoOiAyZW07XG59XG5cbmlucHV0W3R5cGU9dGV4dF0ge1xuICB3aWR0aDogOGVtO1xufVxuXG50YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xufVxudGFibGUgdGQsXG50YWJsZSB0aCB7XG4gIHBhZGRpbmc6IDBlbSAwLjI1ZW07XG59XG5cbmxhYmVsIHtcbiAgcGFkZGluZy1yaWdodDogMC41ZW07XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,OAAO,QAAQ,6BAA6B;AACrD,SAASC,SAAS,QAAQ,2CAA2C;AACrE,SAASC,mBAAmB,QAAQ,uCAAuC;;;;;;;;;;ICanEC,0BAA+D;IAC7DA,gCAAkC;IAChCA,0BAAI;IACFA,2BAA4C;IAC9CA,iBAAK;IACLA,0BAAI;IAEqBA,2BAAW;IAAAA,iBAAQ;IAC1CA,4CAGyB;IAEzBA,iCAA0B;IAAAA,+BAAc;IAAAA,iBAAQ;IAChDA,6CAGyB;IAC3BA,iBAAK;IACLA,2BAAI;IACFA,6BAAoD;IACtDA,iBAAK;IACLA,2BAAI;IACFA,6BAAiD;IACjDA,oBACA;IAAAA,6BAA0D;IAC5DA,iBAAK;IACLA,2BAAI;IACFA,yCAA8D;IAChEA,iBAAK;IACLA,2BAAI;IACFA,6BAA6D;IAC7DA,aACF;IAAAA,iBAAK;IACLA,2BAAI;IACFA,yCAA8D;IAChEA,iBAAK;IACLA,2BAAI;IACFA,6BAAgD;IAClDA,iBAAK;IACLA,2BAAI;IACCA;MAAA;MAAA;MAAA;MAAA,OAASA,sCAAa;IAAA,EAAC;IAACA,kBAAC;IAAAA,iBAAI;IAChCA,oBACA;IAAAA,8BAA8B;IAA3BA;MAAA;MAAA;MAAA;MAAA,OAASA,yCAAgB;IAAA,EAAC;IAACA,kBAAC;IAAAA,iBAAI;IAEvCA,0BAAe;IACjBA,iBAAK;;;;;IA7CWA,eAAmB;IAAnBA,oCAAmB;IAS3BA,eAAuC;IAAvCA,wDAAuC;IAMvCA,eAA0C;IAA1CA,2DAA0C;IAYzBA,eAAsB;IAAtBA,uCAAsB;IAIzCA,eACF;IADEA,kEACF;IAEqBA,eAAsB;IAAtBA,uCAAsB;;;;;IApCjDA,6BAAgE;IAC9DA,0FA8CK;IACPA,0BAAe;;;;IA/CWA,eAA2B;IAA3BA,uDAA2B;;;;;;IAiDnDA,0BAAI;IAAAA,sBAAM;IAAAA,iBAAK;IACfA,8BAAgB;IACXA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAACA,sCAAsB;IAAAA,iBAAI;;;ADzD9D,OAAM,MAAOC,0BAA0B;EAOrCC,eAAe;EAJf,IAAIC,aAAa;IACf,OAAO,IAAI,CAACC,aAAa,CAACC,GAAG,CAAC,UAAU,CAAqB;EAC/D;EAIAC,QAAQ,IAAU;EAElBC,UAAU,CAACC,GAAY;IACrB,MAAMC,UAAU,GAAGV,mBAAmB,CAAC,IAAIF,OAAO,EAAE,CAAC;IACrD,IAAIC,SAAS,CAACU,GAAG,CAAC,EAAE;MAClB,IAAI,CAACL,aAAa,CAACO,MAAM,CAACF,GAAG,GAAG,CAAC,EAAEC,UAAU,CAAC;KAC/C,MAAM;MACL,IAAI,CAACN,aAAa,CAACQ,IAAI,CAACF,UAAU,CAAC;;EAEvC;EAEAG,aAAa,CAACJ,GAAW;IACvB,IAAI,CAACL,aAAa,CAACU,QAAQ,CAACL,GAAG,CAAC;EAClC;;;mBAtBWP,0BAA0B;AAAA;;QAA1BA,0BAA0B;EAAAa;EAAAC;IAAAX;EAAA;EAAAY;EAAAC;EAAAC;EAAAC;IAAA;MCXvCnB,+BAAkC;MACdA,+BAAe;MAAAA,iBAAQ;MACzCA,2BAAwD;MACxDA,8BAAoD;MAG1CA,oBAAI;MAAAA,iBAAK;MACbA,0BAAI;MAAAA,8BAAa;MAAAA,iBAAK;MACtBA,2BAAI;MAAAA,mBAAE;MAAAA,iBAAK;MACXA,2BAAI;MAAAA,mBAAE;MAAAA,iBAAK;MACXA,2BAAI;MAAAA,iCAAoB;MAAAA,iBAAK;MAC7BA,2BAAI;MAAAA,qBAAI;MAAAA,iBAAK;MACbA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAChBA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MAEjBA,+FAgDe;MACfA,8HAKc;MAChBA,iBAAQ;;;;MAvENA,6CAA2B;MAgBZA,gBAAgC;MAAhCA,mDAAgC","names":["Monster","doesExist","buildFormFromObject","i0","EditEncounterFormComponent","constructor","monstersArray","encounterForm","get","ngOnInit","addMonster","idx","newControl","insert","push","removeMonster","removeAt","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\workspaces\\greg\\src\\app\\encounter\\create-encounter-table\\components\\edit-encounter-form\\edit-encounter-form.component.ts","D:\\workspaces\\greg\\src\\app\\encounter\\create-encounter-table\\components\\edit-encounter-form\\edit-encounter-form.component.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { UntypedFormArray, UntypedFormGroup } from '@angular/forms';\r\nimport { Monster } from '@shared/model/monster.model';\r\nimport { doesExist } from '@shared/utilities/common-util/common.util';\r\nimport { buildFormFromObject } from '@shared/utilities/form-util/form.util';\r\n\r\n@Component({\r\n  selector: 'greg-edit-encounter-form',\r\n  templateUrl: './edit-encounter-form.component.html',\r\n  styleUrls: ['./edit-encounter-form.component.scss'],\r\n})\r\nexport class EditEncounterFormComponent implements OnInit {\r\n  @Input() encounterForm: UntypedFormGroup;\r\n\r\n  get monstersArray(): UntypedFormArray {\r\n    return this.encounterForm.get('monsters') as UntypedFormArray;\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  addMonster(idx?: number): void {\r\n    const newControl = buildFormFromObject(new Monster());\r\n    if (doesExist(idx)) {\r\n      this.monstersArray.insert(idx + 1, newControl);\r\n    } else {\r\n      this.monstersArray.push(newControl);\r\n    }\r\n  }\r\n\r\n  removeMonster(idx: number): void {\r\n    this.monstersArray.removeAt(idx);\r\n  }\r\n}\r\n","<form [formGroup]=\"encounterForm\">\r\n  <label for=\"name\">Encounter Name:</label>\r\n  <input formControlName=\"name\" name=\"name\" type=\"text\" />\r\n  <div class=\"monster-array\" formArrayName=\"monsters\">\r\n    <table>\r\n      <tr>\r\n        <th>Name</th>\r\n        <th>No. Appearing</th>\r\n        <th>AC</th>\r\n        <th>HD</th>\r\n        <th>Attacks &amp; Damage</th>\r\n        <th>Move</th>\r\n        <th>Save As</th>\r\n        <th>Morale</th>\r\n        <th>&nbsp;</th>\r\n      </tr>\r\n      <ng-container *ngIf=\"monstersArray.length > 0; else noMonsters\">\r\n        <tr *ngFor=\"let monster of monstersArray.controls; index as i\">\r\n          <ng-container [formGroupName]=\"i\">\r\n            <td>\r\n              <input formControlName=\"name\" type=\"text\" />\r\n            </td>\r\n            <td>\r\n              <!-- Fix This via CSS -->\r\n              <label for=\"noDungeon\">In Dungeon:</label>\r\n              <greg-dice-roller-form\r\n                name=\"noDungeon\"\r\n                [parentForm]=\"monster.get('noDungeon')\"\r\n              ></greg-dice-roller-form>\r\n              <br />\r\n              <label for=\"noWilderness\">In Wilderness:</label>\r\n              <greg-dice-roller-form\r\n                name=\"noWilderness\"\r\n                [parentForm]=\"monster.get('noWilderness')\"\r\n              ></greg-dice-roller-form>\r\n            </td>\r\n            <td>\r\n              <input formControlName=\"armorClass\" type=\"number\" />\r\n            </td>\r\n            <td>\r\n              <input formControlName=\"hitDice\" type=\"number\" />\r\n              +\r\n              <input formControlName=\"hitPointModifier\" type=\"number\" />\r\n            </td>\r\n            <td>\r\n              <greg-weapons-form [parentForm]=\"monster\"></greg-weapons-form>\r\n            </td>\r\n            <td>\r\n              <input formControlName=\"movementExploration\" type=\"number\" />\r\n              {{ monster.value.movementTactical }}\r\n            </td>\r\n            <td>\r\n              <greg-save-as-form [parentForm]=\"monster\"></greg-save-as-form>\r\n            </td>\r\n            <td>\r\n              <input formControlName=\"morale\" type=\"number\" />\r\n            </td>\r\n            <td>\r\n              <a (click)=\"addMonster(i)\">+</a>\r\n              /\r\n              <a (click)=\"removeMonster(i)\">-</a>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-container>\r\n      <ng-template #noMonsters>\r\n        <td>&nbsp;</td>\r\n        <td colspan=\"6\">\r\n          <a (click)=\"addMonster()\">Add Encounter Creature</a>\r\n        </td>\r\n      </ng-template>\r\n    </table>\r\n  </div>\r\n</form>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}