{"ast":null,"code":"import { NestedMagicItemTable } from '@treasure/treasure-common/model/magic-item.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@treasure/create-nested-magic-item-table/services/nested-magic-item-table-controller/nested-magic-item-table-controller.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../nested-magic-item-table-presenter/nested-magic-item-table-presenter.component\";\nimport * as i4 from \"../magic-item-presenter/magic-item-presenter.component\";\nimport * as i5 from \"../../../../shared/pipes/bounded-range/bounded-range.pipe\";\nfunction DisplayNestedMagicItemTableComponent_ng_container_0_tr_9_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"greg-nested-magic-item-table-presenter\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction DisplayNestedMagicItemTableComponent_ng_container_0_tr_9_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"greg-magic-item-table-presenter\", 7);\n  }\n  if (rf & 2) {\n    const tableEntry_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"magicItem\", tableEntry_r3.entry);\n  }\n}\nfunction DisplayNestedMagicItemTableComponent_ng_container_0_tr_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"boundedRange\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtemplate(5, DisplayNestedMagicItemTableComponent_ng_container_0_tr_9_ng_container_5_Template, 2, 0, \"ng-container\", 5);\n    i0.ɵɵtemplate(6, DisplayNestedMagicItemTableComponent_ng_container_0_tr_9_ng_template_6_Template, 1, 1, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"a\", 3);\n    i0.ɵɵlistener(\"click\", function DisplayNestedMagicItemTableComponent_ng_container_0_tr_9_Template_a_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const i_r4 = restoredCtx.index;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.removeEntryAt(i_r4));\n    });\n    i0.ɵɵtext(10, \"X\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const tableEntry_r3 = ctx.$implicit;\n    const _r6 = i0.ɵɵreference(7);\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 3, tableEntry_r3.chanceOf), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isNestedTable(tableEntry_r3.entry))(\"ngIfElse\", _r6);\n  }\n}\nfunction DisplayNestedMagicItemTableComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\")(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"Chance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 1);\n    i0.ɵɵtext(8, \"Result\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, DisplayNestedMagicItemTableComponent_ng_container_0_tr_9_Template, 11, 5, \"tr\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"section\")(11, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function DisplayNestedMagicItemTableComponent_ng_container_0_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.exportTable());\n    });\n    i0.ɵɵtext(12, \"Export\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const nestedTable_r1 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nestedTable_r1.name);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", nestedTable_r1.entries);\n  }\n}\nexport class DisplayNestedMagicItemTableComponent {\n  constructor(controllerService) {\n    this.controllerService = controllerService;\n  }\n  ngOnInit() {\n    this.nestedTable$ = this.controllerService.nestedTable$;\n  }\n  clearTable() {\n    this.controllerService.clear();\n  }\n  exportTable() {\n    this.controllerService.exportTable();\n  }\n  isNestedTable(entry) {\n    return entry instanceof NestedMagicItemTable;\n  }\n  removeEntryAt(index) {\n    this.controllerService.removeEntryAt(index);\n  }\n}\nDisplayNestedMagicItemTableComponent.ɵfac = function DisplayNestedMagicItemTableComponent_Factory(t) {\n  return new (t || DisplayNestedMagicItemTableComponent)(i0.ɵɵdirectiveInject(i1.NestedMagicItemTableControllerService));\n};\nDisplayNestedMagicItemTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DisplayNestedMagicItemTableComponent,\n  selectors: [[\"greg-display-nested-magic-item-table\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"colspan\", \"2\", 1, \"result-header\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [1, \"chance-of\"], [4, \"ngIf\", \"ngIfElse\"], [\"isItem\", \"\"], [3, \"magicItem\"]],\n  template: function DisplayNestedMagicItemTableComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, DisplayNestedMagicItemTableComponent_ng_container_0_Template, 13, 2, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.nestedTable$));\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.NestedMagicItemTablePresenterComponent, i4.MagicItemPresenterComponent, i2.AsyncPipe, i5.BoundedRangePipe],\n  styles: [\"label[_ngcontent-%COMP%] {\\n  padding-left: 3em;\\n}\\n\\nsection[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n[_nghost-%COMP%]  td {\\n  padding: 0em 0.5em;\\n}\\n\\n[_nghost-%COMP%]  .chance-of {\\n  text-align: center;\\n  padding: 0px;\\n}\\n\\n[_nghost-%COMP%]  .result-header {\\n  text-align: left;\\n  padding-left: 3em;\\n}\\n/*# sourceURL=webpack://./src/app/treasure/create-nested-magic-item-table/components/display-nested-magic-item-table/display-nested-magic-item-table.component.scss */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdHJlYXN1cmUvY3JlYXRlLW5lc3RlZC1tYWdpYy1pdGVtLXRhYmxlL2NvbXBvbmVudHMvZGlzcGxheS1uZXN0ZWQtbWFnaWMtaXRlbS10YWJsZS9kaXNwbGF5LW5lc3RlZC1tYWdpYy1pdGVtLXRhYmxlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJsYWJlbCB7XG4gIHBhZGRpbmctbGVmdDogM2VtO1xufVxuXG5zZWN0aW9uIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG46aG9zdDo6bmctZGVlcCB0ZCB7XG4gIHBhZGRpbmc6IDBlbSAwLjVlbTtcbn1cblxuOmhvc3Q6Om5nLWRlZXAgLmNoYW5jZS1vZiB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogMHB4O1xufVxuXG46aG9zdDo6bmctZGVlcCAucmVzdWx0LWhlYWRlciB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIHBhZGRpbmctbGVmdDogM2VtO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AAEA,SAEEA,oBAAoB,QACf,kDAAkD;;;;;;;;;ICOjDC,6BAAmE;IACjEA,yDAAiF;IACnFA,0BAAe;;;;;IAEbA,qDAEmC;;;;IADjCA,+CAA8B;;;;;;IAVtCA,0BAA+D;IAE3DA,YACF;;IAAAA,iBAAK;IACLA,0BAAI;IACFA,2HAEe;IACfA,0JAIc;IAChBA,iBAAK;IACLA,0BAAI;IACCA;MAAA;MAAA;MAAA;MAAA,OAASA,yCAAgB;IAAA,EAAC;IAACA,kBAAC;IAAAA,iBAAI;;;;;;IAbnCA,eACF;IADEA,6EACF;IAEiBA,eAAuC;IAAvCA,gEAAuC;;;;;;IAZ9DA,6BAA0D;IACxDA,6BAAO;IAAAA,YAAsB;IAAAA,iBAAQ;IACrCA,6BAAO;IAECA,sBAAM;IAAAA,iBAAK;IACfA,6BAAsC;IAAAA,sBAAM;IAAAA,iBAAK;IAEnDA,mGAiBK;IACPA,iBAAQ;IACRA,gCAAS;IACCA;MAAAA;MAAA;MAAA,OAASA,oCAAa;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;IAEnDA,0BAAe;;;;IA5BNA,eAAsB;IAAtBA,yCAAsB;IAMAA,eAAwB;IAAxBA,gDAAwB;;;ADMvD,OAAM,MAAOC,oCAAoC;EAG/CC,YACUC,iBAAwD;IAAxD,sBAAiB,GAAjBA,iBAAiB;EACxB;EAEHC,QAAQ;IACN,IAAI,CAACC,YAAY,GAAG,IAAI,CAACF,iBAAiB,CAACE,YAAY;EACzD;EAEAC,UAAU;IACR,IAAI,CAACH,iBAAiB,CAACI,KAAK,EAAE;EAChC;EAEAC,WAAW;IACT,IAAI,CAACL,iBAAiB,CAACK,WAAW,EAAE;EACtC;EAEAC,aAAa,CAACC,KAA4C;IACxD,OAAOA,KAAK,YAAYX,oBAAoB;EAC9C;EAEAY,aAAa,CAACC,KAAa;IACzB,IAAI,CAACT,iBAAiB,CAACQ,aAAa,CAACC,KAAK,CAAC;EAC7C;;;mBAzBWX,oCAAoC;AAAA;;QAApCA,oCAAoC;EAAAY;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCbjDjB,wGA6Be;;;;MA7BAA,6DAA2B","names":["NestedMagicItemTable","i0","DisplayNestedMagicItemTableComponent","constructor","controllerService","ngOnInit","nestedTable$","clearTable","clear","exportTable","isNestedTable","entry","removeEntryAt","index","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\workspaces\\greg\\src\\app\\treasure\\create-nested-magic-item-table\\components\\display-nested-magic-item-table\\display-nested-magic-item-table.component.ts","D:\\workspaces\\greg\\src\\app\\treasure\\create-nested-magic-item-table\\components\\display-nested-magic-item-table\\display-nested-magic-item-table.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { NestedMagicItemTableControllerService } from '@treasure/create-nested-magic-item-table/services/nested-magic-item-table-controller/nested-magic-item-table-controller.service';\nimport {\n  MagicItemTable,\n  NestedMagicItemTable,\n} from '@treasure/treasure-common/model/magic-item.model';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'greg-display-nested-magic-item-table',\n  templateUrl: './display-nested-magic-item-table.component.html',\n  styleUrls: ['./display-nested-magic-item-table.component.scss'],\n})\nexport class DisplayNestedMagicItemTableComponent implements OnInit {\n  nestedTable$: Observable<NestedMagicItemTable>;\n\n  constructor(\n    private controllerService: NestedMagicItemTableControllerService\n  ) {}\n\n  ngOnInit(): void {\n    this.nestedTable$ = this.controllerService.nestedTable$;\n  }\n\n  clearTable(): void {\n    this.controllerService.clear();\n  }\n\n  exportTable(): void {\n    this.controllerService.exportTable();\n  }\n\n  isNestedTable(entry: MagicItemTable | NestedMagicItemTable): boolean {\n    return entry instanceof NestedMagicItemTable;\n  }\n\n  removeEntryAt(index: number): void {\n    this.controllerService.removeEntryAt(index);\n  }\n}\n","<ng-container *ngIf=\"nestedTable$ | async as nestedTable\">\r\n  <label>{{ nestedTable.name }}</label>\r\n  <table>\r\n    <tr>\r\n      <th>Chance</th>\r\n      <th colspan=\"2\" class=\"result-header\">Result</th>\r\n    </tr>\r\n    <tr *ngFor=\"let tableEntry of nestedTable.entries; index as i\">\r\n      <td class=\"chance-of\">\r\n        {{ tableEntry.chanceOf | boundedRange }}\r\n      </td>\r\n      <td>\r\n        <ng-container *ngIf=\"isNestedTable(tableEntry.entry); else isItem\">\r\n          <greg-nested-magic-item-table-presenter></greg-nested-magic-item-table-presenter>\r\n        </ng-container>\r\n        <ng-template #isItem>\r\n          <greg-magic-item-table-presenter\r\n            [magicItem]=\"tableEntry.entry\"\r\n          ></greg-magic-item-table-presenter>\r\n        </ng-template>\r\n      </td>\r\n      <td>\r\n        <a (click)=\"removeEntryAt(i)\">X</a>\r\n      </td>\r\n    </tr>\r\n  </table>\r\n  <section>\r\n    <button (click)=\"exportTable()\">Export</button>\r\n  </section>\r\n</ng-container>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}